import{SvelteElement,add_render_callback,append,attr,attribute_to_object,binding_callbacks,check_outros,create_bidirectional_transition,destroy_each,detach,element,flush,group_outros,init,insert,listen,noop,not_equal,run_all,set_custom_element_data,set_data,set_input_value,set_style,space,text,to_number,toggle_class,transition_in,transition_out}from"../../../packages/svelte/internal/index.mjs";import logger from"../../../packages/@heimdall/utils/lib/logger.mjs";import"../../../packages/joi-browser.min.js";import{onMount,onDestroy}from"../../../packages/svelte/internal/index.mjs";import{fade}from"../../../packages/svelte/transition/index.mjs";import{quintInOut}from"../../../packages/svelte/easing/index.mjs";import"../../../shared_components/search_bar/index.js";import"../../../shared_components/folder_browser/index.js";import{debounce}from"../../../packages/@heimdall/utils/lib/function.mjs";import{createValidator}from"../../../lib/validation.js";import"../item/index.js";function get_each_context(e,t,a){const r=e.slice();return r[47]=t[a],r}function get_each_context_1(e,t,a){const r=e.slice();return r[50]=t[a],r}function create_each_block_1(e){let t,a,r,n=e[50]+"";return{c(){t=element("span"),a=text(n),r=space(),attr(t,"class","animated"),toggle_class(t,"selected",e[50]===e[7])},m(e,n){insert(e,t,n),append(t,a),append(t,r)},p(e,a){2097280&a[0]&&toggle_class(t,"selected",e[50]===e[7])},d(e){e&&detach(t)}}}function create_if_block(e){let t,a,r,n=e[14],i=[];for(let t=0;t<n.length;t+=1)i[t]=create_each_block(get_each_context(e,n,t));return{c(){t=element("ul");for(let e=0;e<i.length;e+=1)i[e].c()},m(e,a){insert(e,t,a);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);r=!0},p(a,r){if(e=a,16385&r[0]){let a;for(n=e[14],a=0;a<n.length;a+=1){const o=get_each_context(e,n,a);i[a]?i[a].p(o,r):(i[a]=create_each_block(o),i[a].c(),i[a].m(t,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},i(e){r||(add_render_callback((()=>{r&&(a||(a=create_bidirectional_transition(t,fade,{duration:250,easing:quintInOut},!0)),a.run(1))})),r=!0)},o(e){a||(a=create_bidirectional_transition(t,fade,{duration:250,easing:quintInOut},!1)),a.run(0),r=!1},d(e){e&&detach(t),destroy_each(i,e),e&&a&&a.end()}}}function create_each_block(e){let t,a,r,n,i,o;return{c(){t=element("li"),a=element("hdl-dashboard-item"),o=space(),set_custom_element_data(a,"title",r=e[47].title),set_custom_element_data(a,"icon",n=e[47].icon),set_custom_element_data(a,"iconalt",i=e[0]?.iconalt),attr(t,"class","animated hover-fx")},m(e,r){insert(e,t,r),append(t,a),append(t,o)},p(e,t){16384&t[0]&&r!==(r=e[47].title)&&set_custom_element_data(a,"title",r),16384&t[0]&&n!==(n=e[47].icon)&&set_custom_element_data(a,"icon",n),1&t[0]&&i!==(i=e[0]?.iconalt)&&set_custom_element_data(a,"iconalt",i)},d(e){e&&detach(t)}}}function create_fragment(e){let t,a,r,n,i,o,s,l,c,d,p,m,u,g,h,b,f,_,v,y,w,x,k,$,z,j,q,D,E,S,A,N,P,B,C,L,T,M,I,O,F,X=e[0]?.drafts+"",R=e[0]?.limit+"",U=e[0]?.preview+"",H=e[0]?.pin+"",V=e[21],G=[];for(let t=0;t<V.length;t+=1)G[t]=create_each_block_1(get_each_context_1(e,V,t));let J=!e[13]&&e[14]?.length>0&&create_if_block(e);return{c(){t=element("h2"),a=element("input"),o=space(),s=element("header"),l=element("div"),c=element("folder-browser"),d=space(),p=element("label"),m=element("input"),u=space(),g=element("span"),h=text(X),b=space(),f=element("div"),_=element("label"),v=text(R),y=space(),w=element("div"),x=element("div");for(let e=0;e<G.length;e+=1)G[e].c();k=space(),$=element("input"),z=space(),j=element("search-bar"),E=space(),S=element("section"),A=element("h3"),N=text(U),P=space(),B=element("div"),J&&J.c(),C=space(),L=element("button"),T=text(H),this.c=noop,attr(a,"type","text"),attr(a,"name","title"),attr(a,"placeholder",r=e[0]?.titlePlaceholder),attr(a,"pattern",n=validSearchName.source),attr(a,"class","no-focus bg-transparent animated sky"),toggle_class(a,"invalid",e[11]),attr(t,"title",i=e[0]?.titlePlaceholder),toggle_class(t,"filled",e[20]),set_custom_element_data(c,"items",e[1]),set_custom_element_data(c,"selected",e[8]),attr(m,"id","includeDraft"),attr(m,"type","checkbox"),attr(m,"class","animated"),m.disabled=e[18],attr(g,"class","cap-first animated"),toggle_class(g,"dimmed",Boolean(e[8])||!e[6]),attr(p,"for","includeDraft"),attr(p,"class","draft-switch animated"),attr(_,"for","max"),attr(_,"class","cap-first"),attr(x,"class","markers hstretch"),set_style(x,"--gauge",e[17]),attr($,"id","max"),attr($,"name","max"),attr($,"class","hstretch"),attr($,"type","range"),attr($,"min",e[22]),attr($,"max",e[23]),attr($,"step",limitStep),attr(w,"class","max"),attr(f,"class","max-wrapper"),attr(l,"class","icons-wrapper"),set_custom_element_data(j,"activableelement",e[15]),set_custom_element_data(j,"searching",e[13]),set_custom_element_data(j,"itemscount",q=e[14]?.length||0),set_custom_element_data(j,"tags",e[2]),set_custom_element_data(j,"tagaliases",e[3]),set_custom_element_data(j,"user",e[5]),set_custom_element_data(j,"connections",e[4]),set_custom_element_data(j,"messages",D=e[0]?.searchBar),set_custom_element_data(j,"search",e[10]),attr(A,"class","cap-first"),attr(B,"data-placeholder",e[16]),attr(B,"class","preview"),attr(L,"class","pin capitalize animated hover-fx"),L.disabled=M=!e[19],attr(S,"class","main")},m(r,n){insert(r,t,n),append(t,a),set_input_value(a,e[12]),insert(r,o,n),insert(r,s,n),append(s,l),append(l,c),append(l,d),append(l,p),append(p,m),m.checked=e[6],append(p,u),append(p,g),append(g,h),append(l,b),append(l,f),append(f,_),append(_,v),append(f,y),append(f,w),append(w,x);for(let e=0;e<G.length;e+=1)G[e]&&G[e].m(x,null);append(w,k),append(w,$),set_input_value($,e[7]),append(s,z),append(s,j),e[41](s),insert(r,E,n),insert(r,S,n),append(S,A),append(A,N),append(S,P),append(S,B),J&&J.m(B,null),append(S,C),append(S,L),append(L,T),I=!0,O||(F=[listen(a,"input",e[38]),listen(c,"change",e[24]),listen(m,"change",e[39]),listen(m,"change",e[26]),listen($,"change",e[40]),listen($,"input",e[40]),listen(j,"search-update",e[25]),listen(L,"click",e[27])],O=!0)},p(e,n){if((!I||1&n[0]&&r!==(r=e[0]?.titlePlaceholder))&&attr(a,"placeholder",r),4096&n[0]&&a.value!==e[12]&&set_input_value(a,e[12]),(!I||2048&n[0])&&toggle_class(a,"invalid",e[11]),(!I||1&n[0]&&i!==(i=e[0]?.titlePlaceholder))&&attr(t,"title",i),(!I||1048576&n[0])&&toggle_class(t,"filled",e[20]),(!I||2&n[0])&&set_custom_element_data(c,"items",e[1]),(!I||256&n[0])&&set_custom_element_data(c,"selected",e[8]),(!I||262144&n[0])&&(m.disabled=e[18]),64&n[0]&&(m.checked=e[6]),(!I||1&n[0])&&X!==(X=e[0]?.drafts+"")&&set_data(h,X),(!I||320&n[0])&&toggle_class(g,"dimmed",Boolean(e[8])||!e[6]),(!I||1&n[0])&&R!==(R=e[0]?.limit+"")&&set_data(v,R),2097280&n[0]){let t;for(V=e[21],t=0;t<V.length;t+=1){const a=get_each_context_1(e,V,t);G[t]?G[t].p(a,n):(G[t]=create_each_block_1(a),G[t].c(),G[t].m(x,null))}for(;t<G.length;t+=1)G[t].d(1);G.length=V.length}(!I||131072&n[0])&&set_style(x,"--gauge",e[17]),128&n[0]&&set_input_value($,e[7]),(!I||32768&n[0])&&set_custom_element_data(j,"activableelement",e[15]),(!I||8192&n[0])&&set_custom_element_data(j,"searching",e[13]),(!I||16384&n[0]&&q!==(q=e[14]?.length||0))&&set_custom_element_data(j,"itemscount",q),(!I||4&n[0])&&set_custom_element_data(j,"tags",e[2]),(!I||8&n[0])&&set_custom_element_data(j,"tagaliases",e[3]),(!I||32&n[0])&&set_custom_element_data(j,"user",e[5]),(!I||16&n[0])&&set_custom_element_data(j,"connections",e[4]),(!I||1&n[0]&&D!==(D=e[0]?.searchBar))&&set_custom_element_data(j,"messages",D),(!I||1024&n[0])&&set_custom_element_data(j,"search",e[10]),(!I||1&n[0])&&U!==(U=e[0]?.preview+"")&&set_data(N,U),!e[13]&&e[14]?.length>0?J?(J.p(e,n),24576&n[0]&&transition_in(J,1)):(J=create_if_block(e),J.c(),transition_in(J,1),J.m(B,null)):J&&(group_outros(),transition_out(J,1,1,(()=>{J=null})),check_outros()),(!I||65536&n[0])&&attr(B,"data-placeholder",e[16]),(!I||1&n[0])&&H!==(H=e[0]?.pin+"")&&set_data(T,H),(!I||524288&n[0]&&M!==(M=!e[19]))&&(L.disabled=M)},i(e){I||(transition_in(J),I=!0)},o(e){transition_out(J),I=!1},d(a){a&&detach(t),a&&detach(o),a&&detach(s),destroy_each(G,a),e[41](null),a&&detach(E),a&&detach(S),J&&J.d(),O=!1,run_all(F)}}}const log=logger.getLogger("layout/dsahboard/component/search_builder"),validSearchName=/^.*\S.{3,}\S.*$/,DRAFT_TAG_NAME="draft",DEFAULT_MAX=20,componentDisplayName="dashboard/search_builder",limitStep=20;function instance(e,t,a){let r,n,i,o,s,l,c,d,p,m;const{joi:u}=window,g=new Array(5).fill().map(((e,t)=>(t+1)*limitStep)),h=g.at(0),b=g.at(-1),f=createValidator(componentDisplayName),_=u.object({$id:u.string().required(),username:u.string().required()}).unknown();let v,y,w,x,k,$,z,j,q,{search:D={max:DEFAULT_MAX,includeDraft:!1,tags:[],connectees:[]}}=t,{messages:E}=t,{workspaces:S}=t,{id:A}=t,{title:N}=t,{tags:P}=t,{tagaliases:B}=t,{connections:C}=t,{user:L}=t,{forbiddennames:T}=t,M=!1,I=!1;onMount((async()=>{a(32,M=!0),document.addEventListener("keydown",F)})),onDestroy((()=>document.removeEventListener("keydown",F)));var O=debounce((async function(e){a(16,c=E?.searching),a(13,I=!0);try{const t=await fetch("/api/find-items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});a(14,j=await t.json())}catch(t){log.error("failed to load preview for search",e,"due to error:\n",t)}finally{a(13,I=!1),a(16,c=E?.noPreview)}}),500);function F(e){log.debug({key:e.key}),"Escape"===e.key&&r===document.activeElement&&e.stopImmediatePropagation()}return e.$$set=e=>{"search"in e&&a(28,D=e.search),"messages"in e&&a(0,E=e.messages),"workspaces"in e&&a(1,S=e.workspaces),"id"in e&&a(29,A=e.id),"title"in e&&a(30,N=e.title),"tags"in e&&a(2,P=e.tags),"tagaliases"in e&&a(3,B=e.tagaliases),"connections"in e&&a(4,C=e.connections),"user"in e&&a(5,L=e.user),"forbiddennames"in e&&a(31,T=e.forbiddennames)},e.$$.update=()=>{268435456&e.$$.dirty[0]&&a(7,({max:w=DEFAULT_MAX,workspace:x,includeDraft:v,includeDraft:y=!1,tags:k=[],connectees:$=[],text:z}=D),w,(a(8,x),a(28,D)),(a(6,v),a(28,D),a(8,x),a(33,y),a(34,k)),(a(33,y),a(28,D)),(a(34,k),a(28,D)),(a(35,$),a(28,D)),(a(36,z),a(28,D))),256&e.$$.dirty[0]|12&e.$$.dirty[1]&&a(6,v=!!x||y||!!k?.includes("draft")||y),512&e.$$.dirty[0]&&a(15,r=q?.parentNode.host),1073741824&e.$$.dirty[0]&&a(12,n=N),4096&e.$$.dirty[0]&&a(20,i=Boolean(n?.trim())),4096&e.$$.dirty[0]&&a(37,o=n?.trim().toLowerCase()),65&e.$$.dirty[1]&&a(11,s=T?.includes(o)),6144&e.$$.dirty[0]&&a(19,l=n?.match(validSearchName)&&!s),1&e.$$.dirty[0]&&a(16,c=E?.searching),256&e.$$.dirty[0]|8&e.$$.dirty[1]&&a(18,d=Boolean(x)||k?.includes("draft")),448&e.$$.dirty[0]|56&e.$$.dirty[1]&&a(10,p={max:w,includeDraft:v,...x&&{workspace:x},tags:k,connectees:$,...z&&{text:z}}),128&e.$$.dirty[0]&&a(17,m={20:10,40:32.5,60:55,80:77,100:100}[w]),1&e.$$.dirty[0]&&f(E,"messages",u.object({titlePlaceholder:u.string().required(),limit:u.string().required(),drafts:u.string().required(),iconalt:u.string().required(),preview:u.string().required(),noPreview:u.string().required(),searching:u.string().required(),pin:u.string().required(),searchBar:u.object({searchNItems:u.string().required()}).required()})),2&e.$$.dirty[0]&&f(S,"workspaces",u.array().items(u.string()).sparse(!1)),268435456&e.$$.dirty[0]&&f(D,"search",u.object({workspace:u.string(),max:u.number(),includeDraft:u.boolean(),tags:u.array().items(u.string()).sparse(!1),connectees:u.array().items(u.string()).sparse(!1)})),4&e.$$.dirty[0]&&f(P,"tags",u.array().items(u.object({name:u.string().required()}).required().unknown())),8&e.$$.dirty[0]&&f(B,"tagaliases",u.object().unknown()),32&e.$$.dirty[0]&&f(L,"user",_),16&e.$$.dirty[0]&&f(C,"connections",u.array().items(_).sparse(!1)),1024&e.$$.dirty[0]|2&e.$$.dirty[1]&&M&&O(p)},[E,S,P,B,C,L,v,w,x,q,p,s,n,I,j,r,c,m,d,l,i,g,h,b,function({detail:e}){a(8,x=e)},function({detail:e}){a(34,({tags:k,connectees:$,text:z}=e),k,(a(35,$),a(28,D)),(a(36,z),a(28,D)))},function({target:e}){a(33,y=e.checked)},function(){r.dispatchEvent(new window.CustomEvent("pin",{detail:{...A&&{id:A},title:o,search:{...p,includeDraft:y}},bubbles:!1}))},D,A,N,T,M,y,k,$,z,o,function(){n=this.value,a(12,n),a(30,N)},function(){v=this.checked,a(6,v),a(28,D),a(8,x),a(33,y),a(34,k)},function(){w=to_number(this.value),a(7,w),a(28,D)},function(e){binding_callbacks[e?"unshift":"push"]((()=>{q=e,a(9,q)}))}]}class Search_builder extends SvelteElement{constructor(e){super();const t=document.createElement("style");t.textContent='.bg-transparent{background-color:transparent}.sky{color:rgb(88,146,246);color:rgb(var(--sky))}.no-focus:focus,input[type=checkbox]:focus,:focus{outline:0;box-shadow:none}[disabled]:not(.not-visible){opacity:0.5}[disabled]:not(.not-visible){cursor:not-allowed}input{border-radius:0;font-family:\'Hasteristico\', \'heimdall-widget-base-font\';letter-spacing:0.05em;color:var(--font-color)}input:invalid,input.invalid{color:rgb(255,85,112);color:rgb(var(--pinkred))}input::-moz-placeholder{color:rgba(235,235,235, 0.35);color:rgba(var(--eggshell), 0.35);transition-duration:var(--anim-duration);transition-timing-function:ease-in-out;-moz-transition-property:color;transition-property:color}input::placeholder{color:rgba(235,235,235, 0.35);color:rgba(var(--eggshell), 0.35);transition-duration:var(--anim-duration);transition-timing-function:ease-in-out;transition-property:color}input:focus::-moz-placeholder{color:rgba(235,235,235, 0.2);color:rgba(var(--eggshell), 0.2)}input:focus::placeholder{color:rgba(235,235,235, 0.2);color:rgba(var(--eggshell), 0.2)}input:-webkit-autofill,input:-webkit-autofill:hover,input:-webkit-autofill:focus,input:-webkit-autofill:active{border:medium none currentColor;border:initial;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s;-webkit-text-fill-color:var(--font-color)}input[type=checkbox]:nth-child(1n){-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1em;border:0.14em solid;border-radius:0.715em;width:2.14em;height:1.43em;padding:0;margin:0;box-sizing:border-box;display:flex;align-items:center\n}input[type=checkbox]:nth-child(1n):not([disabled]){cursor:pointer}input[type=checkbox]:nth-child(1n):checked{justify-content:flex-end;background-color:rgb(88,146,246);background-color:rgb(var(--sky))\n  }:host-context(.high-contrast) input[type=checkbox]:nth-child(1n):checked::before{background-color:black\n  }input[type=checkbox]:nth-child(1n)::before{--check-size:0.92em;--border-color:rgb(var(--deepwater));content:\'\';display:block;width:var(--check-size);height:var(--check-size);border-radius:50%;box-sizing:border-box;background-color:currentColor;margin:0 0.1em}input:-webkit-autofill::first-line{font-family:\'Hasteristico\';letter-spacing:0.05em}input::-webkit-credentials-auto-fill-button{position:absolute;right:0;transform:translateX(100%) scale(2);background-color:white}input:not(:placeholder-shown)::-webkit-credentials-auto-fill-button{visibility:hidden}:host{--anim-duration:0.25s}:where(.animated){transition-duration:var(--anim-duration);transition-timing-function:ease-in-out;transition-property:color, background-color, opacity, visibility, height, width, transform, \n    transform-origin, filter, left, top, right, no-prop}.capitalize{text-transform:capitalize}.cap-first::first-letter{text-transform:uppercase}:host .hstretch{width:100%}@media(hover: hover){.hover-fx:not([disabled]):hover{opacity:0.75}}.dimmed{opacity:0.5}:host{--yes: ;--no:initial;box-sizing:border-box;display:block;width:100%;min-height:100%;padding:1em;isolation:isolate}h2{display:flex;justify-content:center;font-size:2em;line-height:1;width:100%;box-sizing:border-box;padding:0;margin:2em 0 1.5em 0;isolation:isolate;position:relative;&, input {\n      font-feature-settings: "smcp";\n      font-variant-caps: small-caps;\n    }}h2::before{--padding:0.375em;content:attr(title);position:absolute;left:50%;top:50%;translate:-50% -50%;white-space:nowrap;color:rgba(235,235,235, 35%);color:rgba(var(--eggshell), 35%);box-sizing:border-box;padding:0.125em var(--padding) var(--padding) var(--padding);background-color:rgba(6,3,33, 50%);background-color:rgba(var(--deepspace), 50%);border-radius:0.14em;transition-duration:var(--anim-duration);transition-timing-function:ease-in-out;transition-property:color, background-color, opacity, visibility, height, width, transform, \n    transform-origin, filter, left, top, right, no-prop;--stop:0.36rem;--opacity:0.3;background-image:linear-gradient(to top, rgba(187,183,76, var(--opacity)), rgba(187,183,76, var(--opacity)) var(--stop), transparent var(--stop));background-image:linear-gradient(to top, rgba(var(--gold), var(--opacity)), rgba(var(--gold), var(--opacity)) var(--stop), transparent var(--stop))}h2:not(.filled):has(input:focus)::before{color:rgba(235,235,235, 20%);color:rgba(var(--eggshell), 20%)}h2.filled::before{opacity:0;visibility:hidden}input[name="title"]{font-size:inherit;text-align:center;width:100%;height:1em;margin-top:-0.25em;z-index:1;position:relative;border:none;box-sizing:border-box;padding:0;font-weight:bold\n  }input[name="title"]::-moz-placeholder{visibility:hidden;color:transparent}input[name="title"]::placeholder{visibility:hidden;color:transparent}header,.main{width:clamp(50%, 100%, 35.36em);max-width:100%;display:flex;flex-direction:column;justify-content:center;grid-row-gap:1em;row-gap:1em;margin-left:auto;margin-right:auto}header{z-index:1;position:relative}h3{font-feature-settings:"smcp";font-variant-caps:small-caps;letter-spacing:0.1em;margin:2em 0 0 0;font-size:1.375em;text-align:center}.icons-wrapper{z-index:1;grid-column-gap:5%;-moz-column-gap:5%;column-gap:5%;position:relative;display:flex;align-items:center}.max-wrapper{grid-column-gap:0.75em;-moz-column-gap:0.75em;column-gap:0.75em;display:flex;flex:1 1 auto;align-items:center;justify-content:flex-end\n  }.max-wrapper label{text-align:center;font-weight:bold}.max{width:60%;max-width:12.5em;grid-row-gap:0.42em;row-gap:0.42em;isolation:isolate;display:flex;flex-direction:column\n  }.max .markers{font-size:0.8em;pointer-events:none;position:relative;display:flex;justify-content:space-between;box-sizing:border-box\n    }.max .markers::before{content:"";position:absolute;width:100%;height:1px;bottom:0;background-color:rgba(235,235,235, 75%);background-color:rgba(var(--eggshell), 75%)}.max .markers::after{content:"";position:absolute;width:calc(var(--gauge) * 1%);height:0.14em;bottom:0;translate:0 33%;background-color:rgb(88,146,246);background-color:rgb(var(--sky));transition-duration:var(--anim-duration);transition-timing-function:ease-in-out;transition-property:color, background-color, opacity, visibility, height, width, transform, \n    transform-origin, filter, left, top, right, no-prop}.max .markers>*{width:2ch;display:flex;justify-content:center;position:relative\n      }.max .markers>*.selected{color:rgb(88,146,246);color:rgb(var(--sky));font-weight:bold}.max .markers>*::after{content:"|";position:absolute;top:100%;left:50%}input[type="range"]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:0.5em;background-color:transparent;cursor:pointer;z-index:1;margin:0\n  }input[type="range"]:focus{outline:none}folder-browser{--folder-browser-large-text:var(--yes);--folder-browser-full-width:var(--yes);--folder-browser-y-offset:1em;--folder-browser-no-backdrop-filter:var(--yes);--folder-browser-max-visible-rows:7;display:inline-flex\n  }@media(min-width: 1025px){folder-browser{--folder-browser-large-text:var(--no);--folder-browser-full-width:var(--no);--folder-browser-y-offset:1.25em;--folder-browser-max-columns:3;--folder-browser-max-visible-rows:10\n  }}.draft-switch{grid-column-gap:0.75em;-moz-column-gap:0.75em;column-gap:0.75em;cursor:pointer;display:flex;align-items:center;font-weight:bold\n  }.draft-switch input[type="checkbox"]{flex:none}.draft-switch:has(input[disabled]){cursor:not-allowed}search-bar{--background-color:var(--deepspace);--search-bar-completion-background-color:rgba(var(--background-color), 80%);--search-bar-completion-border:var(--yes);width:100%;height:3.93em;background-color:rgba(var(--background-color), 50%);border-radius:0.14em;box-shadow:0 0 1px 0 rgb(88,146,246);box-shadow:0 0 1px 0 rgb(var(--sky))}.preview{--item-height:2.25em;background-color:rgba(255,255,255,0.12);background-color:var(--transluent);position:relative\n  }.preview::before{content:attr(data-placeholder);position:absolute;top:50%;left:50%;translate:-50% -50%;visibility:hidden;opacity:0;transition-duration:var(--anim-duration);transition-timing-function:ease-in-out;transition-property:color, background-color, opacity, visibility, height, width, transform, \n    transform-origin, filter, left, top, right, no-prop}.preview:empty{--min-rows:10;--min-height:calc(var(--min-rows) * var(--item-height));min-height:var(--min-height)\n  }.preview:empty::before{visibility:visible;opacity:1}ul{--max-rows:10;--max-height:calc(var(--max-rows) * var(--item-height));list-style:none;overflow:hidden;scroll-snap-type:y mandatory;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:auto;overscroll-behavior:none;max-height:var(--max-height);margin:0;padding:0\n  }@media(min-height: 65.001em){ul{--max-rows:15\n  }}@media(min-height: 85.001em){ul{--max-rows:20\n  }}button{cursor:pointer;padding:0;border:none;font-family:inherit;font-size:inherit;color:inherit}.pin{font-size:2em;margin:1em 0 0 0;padding:0 0.375em;border-radius:0.15em;line-height:1.71;letter-spacing:0.05em;background-color:rgba(255,255,255,0.12);background-color:var(--transluent);margin-left:auto;margin-right:auto;font-weight:bold\n  }.pin::before{content:"";display:inline-block;height:0.75em;aspect-ratio:0.775;rotate:30deg;translate:0 0.05em;background:no-repeat center/100%;background-image:url(https://janouma.github.io/heimdall-layouts/layouts/dashboard/search_builder/assets/images/pin.svg);margin-right:0.375em}',this.shadowRoot.appendChild(t),init(this,{target:this.shadowRoot,props:attribute_to_object(this.attributes),customElement:!0},instance,create_fragment,not_equal,{search:28,messages:0,workspaces:1,id:29,title:30,tags:2,tagaliases:3,connections:4,user:5,forbiddennames:31},null,[-1,-1]),e&&(e.target&&insert(e.target,this,e.anchor),e.props&&(this.$set(e.props),flush()))}static get observedAttributes(){return["search","messages","workspaces","id","title","tags","tagaliases","connections","user","forbiddennames"]}get search(){return this.$$.ctx[28]}set search(e){this.$$set({search:e}),flush()}get messages(){return this.$$.ctx[0]}set messages(e){this.$$set({messages:e}),flush()}get workspaces(){return this.$$.ctx[1]}set workspaces(e){this.$$set({workspaces:e}),flush()}get id(){return this.$$.ctx[29]}set id(e){this.$$set({id:e}),flush()}get title(){return this.$$.ctx[30]}set title(e){this.$$set({title:e}),flush()}get tags(){return this.$$.ctx[2]}set tags(e){this.$$set({tags:e}),flush()}get tagaliases(){return this.$$.ctx[3]}set tagaliases(e){this.$$set({tagaliases:e}),flush()}get connections(){return this.$$.ctx[4]}set connections(e){this.$$set({connections:e}),flush()}get user(){return this.$$.ctx[5]}set user(e){this.$$set({user:e}),flush()}get forbiddennames(){return this.$$.ctx[31]}set forbiddennames(e){this.$$set({forbiddennames:e}),flush()}}customElements.define("hdl-dashboard-search-builder",Search_builder);export default Search_builder;