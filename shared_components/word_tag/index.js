import{SvelteElement,append,attr,attribute_to_object,binding_callbacks,detach,element,flush,init,insert,listen,noop,not_equal,run_all,set_data,space,svg_element,text,toggle_class}from"../../packages/svelte/internal/index.mjs";import logger from"../../packages/@heimdall/utils/lib/logger.mjs";import{onDestroy}from"../../packages/svelte/internal/index.mjs";function create_if_block_1(e){let t,i;return{c(){t=svg_element("svg"),i=svg_element("use"),attr(i,"href",e[6]),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),attr(t,"class","icon")},m(e,o){insert(e,t,o),append(t,i)},p(e,t){64&t&&attr(i,"href",e[6])},d(e){e&&detach(t)}}}function create_if_block(e){let t,i;return{c(){t=svg_element("svg"),i=svg_element("use"),attr(i,"href","#delete-icon"),attr(t,"class","stretch")},m(e,o){insert(e,t,o),append(t,i)},d(e){e&&detach(t)}}}function create_fragment(e){let t,i,o,n,a,r,l,s=e[8]&&create_if_block_1(e),d=e[5]&&create_if_block(e);return{c(){t=element("span"),s&&s.c(),i=space(),o=text(e[0]),n=space(),a=element("button"),d&&d.c(),this.c=noop,attr(a,"class","delete-tag btn absolute top-0 right-0 border-box not-visible animated"),a.disabled=e[9],attr(t,"class","tag relative capitalize bold border-box inline-flex items-center nowrap pointer animated hover-fx hstretch"),attr(t,"disabled",e[9]),toggle_class(t,"border",!e[8]),toggle_class(t,"icon-tag",e[8]),toggle_class(t,"editable",e[7]),toggle_class(t,"readonly",e[1]),toggle_class(t,"flex-column",e[2]),toggle_class(t,"thik",e[3])},m(c,g){insert(c,t,g),s&&s.m(t,null),append(t,i),append(t,o),append(t,n),append(t,a),d&&d.m(a,null),e[17](t),r||(l=[listen(a,"click",e[11]),listen(t,"touchend",e[10],{passive:!0}),listen(t,"click",e[12])],r=!0)},p(e,[n]){e[8]?s?s.p(e,n):(s=create_if_block_1(e),s.c(),s.m(t,i)):s&&(s.d(1),s=null),1&n&&set_data(o,e[0]),e[5]?d||(d=create_if_block(e),d.c(),d.m(a,null)):d&&(d.d(1),d=null),512&n&&(a.disabled=e[9]),512&n&&attr(t,"disabled",e[9]),256&n&&toggle_class(t,"border",!e[8]),256&n&&toggle_class(t,"icon-tag",e[8]),128&n&&toggle_class(t,"editable",e[7]),2&n&&toggle_class(t,"readonly",e[1]),4&n&&toggle_class(t,"flex-column",e[2]),8&n&&toggle_class(t,"thik",e[3])},i:noop,o:noop,d(i){i&&detach(t),s&&s.d(),d&&d.d(),e[17](null),r=!1,run_all(l)}}}const log=logger.getLogger("shared-lib/component/word_tag"),loadTagsIcons=createIconsLoader("./assets/images/icons.svg"),loadDeleteIcon=createIconsLoader("./assets/images/detete-tag-icon.svg");function createIconsLoader(e){const t=import.meta.resolve(e);let i,o,n=!1,a=!1;const r=new Promise((e=>{o=e}));return async function(){if(a||(a=!0,n=!1),!n){if(!i){n=!0;const e=await window.fetch(t);let o;if(e.ok){const t=await e.text();o=t&&t.trim().startsWith("<svg")&&t}if(!o)throw n=!1,new Error(`unable to load icons from "${t}"`);const a=document.createElement("template");a.innerHTML=o,i=a.content,n=!1}o(i)}return r}}function instance(e,t,i){let o,n,a,r,l,s,d,c,{label:g}=t,{readonly:h}=t,{disabled:m}=t,{textbelow:b}=t,{thik:p}=t,u=!1,f=!1;function w(e){if(!m){const t=new window.CustomEvent(e,{detail:g,bubbles:!1});o.dispatchEvent(t)}}return loadTagsIcons().then((e=>{i(14,d=e)})).catch(((...e)=>log.error(...e))),loadDeleteIcon().then((e=>{i(5,c=e)})).catch(((...e)=>log.error(...e))),onDestroy((()=>clearTimeout(s))),e.$$set=e=>{"label"in e&&i(0,g=e.label),"readonly"in e&&i(1,h=e.readonly),"disabled"in e&&i(13,m=e.disabled),"textbelow"in e&&i(2,b=e.textbelow),"thik"in e&&i(3,p=e.thik)},e.$$.update=()=>{16&e.$$.dirty&&i(15,o=l?.parentNode.host),8192&e.$$.dirty&&i(9,n=[!1,"false"].includes(m)?void 0:m),1&e.$$.dirty&&i(16,a=g?.replace(/\W+/g,"-").toLowerCase()),65536&e.$$.dirty&&i(6,r=a&&`#tag-icon-${a}`),49216&e.$$.dirty&&r&&d&&o&&d.querySelector(r)&&(o.shadowRoot.appendChild(d.cloneNode(!0)),i(8,f=!0)),32800&e.$$.dirty&&c&&o&&o.shadowRoot.appendChild(c.cloneNode(!0))},[g,h,b,p,l,c,r,u,f,n,function(){const{setTimeout:e,clearTimeout:t}=window;t(s),i(7,u=!0),s=e((()=>{i(7,u=!1)}),3e3)},function(){w("remove")},function(){w("select")},m,d,o,a,function(e){binding_callbacks[e?"unshift":"push"]((()=>{l=e,i(4,l)}))}]}class Word_tag extends SvelteElement{constructor(e){super();const t=document.createElement("style");t.textContent=".bold{font-weight:700;font-weight:bold;font-weight:var(--bold-font-weight,bold)}.nowrap{white-space:nowrap}.border-box{box-sizing:border-box}@media(min-width:40em){}@media(min-width:52em){}@media(min-width:64em){}@media(min-width:40em){}@media(min-width:52em){}@media(min-width:64em){}.flex-column{flex-direction:column}.items-center{align-items:center}.relative{position:relative}.absolute{position:absolute}.top-0{top:0}.right-0{right:0}.border{border-style:solid;border-width:1px;border-width:var(--border-width)}@media(max-width:40em){}@media(min-width:40em) and (max-width:52em){}@media(min-width:52em) and (max-width:64em){}@media(min-width:64em){}.btn{font-family:inherit;font-size:inherit;font-weight:bold;text-decoration:none;cursor:pointer;display:inline-block;line-height:1.125rem;padding:.5rem 1rem;margin:0;height:auto;border:1px solid transparent;vertical-align:middle;-webkit-appearance:none;color:inherit;background-color:transparent}.btn:hover{text-decoration:none}.btn:focus{outline:none;border-color:rgba(0, 0, 0, .125);box-shadow:0 0 0 3px rgba(0, 0, 0, .25)}::-moz-focus-inner{border:0;padding:0}button.btn{padding:0;margin:0}.not-visible{visibility:hidden;opacity:0}:host{--anim-duration:0.25s}:where(.animated){transition-duration:var(--anim-duration);transition-timing-function:ease-in-out;transition-property:color, background-color, opacity, visibility, height, width, transform, \n    transform-origin, filter, left, top, right, no-prop}@media(hover: hover){.hover-fx:not([disabled]):hover{opacity:0.75}}.capitalize{text-transform:capitalize}.inline-flex{display:inline-flex}.pointer{cursor:pointer}:host .hstretch,:host>.hstretch,:host .stretch{width:100%}:host .stretch{height:100%}.thik{--font-ratio:1.25}.tag{line-height:0.75em;padding:0.175em 0.25em;border-width:0.1em;border-radius:0.25em\n  }.tag:not(.icon-tag){font-size:calc(1.45em * 1);font-size:calc(1.45em * var(--font-ratio, 1))\n    }.tag:not(.icon-tag) .icon{display:none}.tag:not(.icon-tag) .delete-tag{--size:1.34em;transform:translate(50%, -50%)}.tag.icon-tag{font-size:calc(1.11em * 1);font-size:calc(1.11em * var(--font-ratio, 1))\n    }.tag.icon-tag .icon{width:2.17em;max-height:2.03em}.tag.icon-tag .delete-tag{--size:1.75em;transform:translate(30%, -10%)}.tag.icon-tag.flex-column .icon{margin-bottom:0.178em}.tag .icon{fill:currentColor;margin-right:0.3em;height:1.754em}.tag .delete-tag{display:flex;padding:0;margin:0;width:var(--size);height:var(--size)\n    }.tag .delete-tag>svg{fill:currentColor}.tag .delete-tag::before{--size:100%;--expanse:50%;content:'';position:absolute;width:var(--size);height:var(--size);top:0;left:0;border-radius:50%;margin:calc(-1 * var(--expanse));padding:var(--expanse)}.tag:not(.readonly):not([disabled]):hover .delete-tag,.tag:not(.readonly):not([disabled]).editable .delete-tag{visibility:visible;opacity:1}@media(pointer: fine){.tag:first-of-type:not(.icon-tag) .delete-tag{--size:0.92em}.tag:first-of-type .delete-tag{--size:1.2em}}",this.shadowRoot.appendChild(t),init(this,{target:this.shadowRoot,props:attribute_to_object(this.attributes),customElement:!0},instance,create_fragment,not_equal,{label:0,readonly:1,disabled:13,textbelow:2,thik:3},null),e&&(e.target&&insert(e.target,this,e.anchor),e.props&&(this.$set(e.props),flush()))}static get observedAttributes(){return["label","readonly","disabled","textbelow","thik"]}get label(){return this.$$.ctx[0]}set label(e){this.$$set({label:e}),flush()}get readonly(){return this.$$.ctx[1]}set readonly(e){this.$$set({readonly:e}),flush()}get disabled(){return this.$$.ctx[13]}set disabled(e){this.$$set({disabled:e}),flush()}get textbelow(){return this.$$.ctx[2]}set textbelow(e){this.$$set({textbelow:e}),flush()}get thik(){return this.$$.ctx[3]}set thik(e){this.$$set({thik:e}),flush()}}customElements.define("word-tag",Word_tag);export default Word_tag;