import{SvelteElement,add_render_callback,append,attr,attribute_to_object,binding_callbacks,check_outros,create_bidirectional_transition,destroy_block,detach,element,empty,flush,group_outros,init,insert,listen,noop,not_equal,set_data,space,text,toggle_class,transition_in,transition_out,update_keyed_each}from"../../packages/svelte/internal/index.mjs";import{onMount,onDestroy}from"../../packages/svelte/internal/index.mjs";import{fade}from"../../packages/svelte/transition/index.mjs";import{quintInOut}from"../../packages/svelte/easing/index.mjs";function get_each_context(e,t,r){const o=e.slice();return o[12]=t[r],o}function create_if_block(e){let t,r,o,a=[],i=new Map,n=e[0];const s=e=>e[12];for(let t=0;t<n.length;t+=1){let r=get_each_context(e,n,t),o=s(r);i.set(o,a[t]=create_each_block(o,r))}return{c(){t=element("ul");for(let e=0;e<a.length;e+=1)a[e].c();attr(t,"class","menu")},m(e,r){insert(e,t,r);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,null);o=!0},p(r,o){e=r,35&o&&(n=e[0],a=update_keyed_each(a,o,s,1,e,n,i,t,destroy_block,create_each_block,null,get_each_context))},i(e){o||(add_render_callback((()=>{o&&(r||(r=create_bidirectional_transition(t,fade,{duration:250,easing:quintInOut},!0)),r.run(1))})),o=!0)},o(e){r||(r=create_bidirectional_transition(t,fade,{duration:250,easing:quintInOut},!1)),r.run(0),o=!1},d(e){e&&detach(t);for(let e=0;e<a.length;e+=1)a[e].d();e&&r&&r.end()}}}function create_each_block(e,t){let r,o,a,i,n=t[12]+"";function s(){return t[8](t[12])}return{key:e,first:null,c(){r=element("li"),o=text(n),attr(r,"class","animated hover-fx z0"),toggle_class(r,"selected",t[1]===t[12]),this.first=r},m(e,t){insert(e,r,t),append(r,o),a||(i=listen(r,"click",s),a=!0)},p(e,a){t=e,1&a&&n!==(n=t[12]+"")&&set_data(o,n),3&a&&toggle_class(r,"selected",t[1]===t[12])},d(e){e&&detach(r),a=!1,i()}}}function create_fragment(e){let t,r,o,a,i,n,s,l=e[2]&&e[0]?.length>0&&create_if_block(e);return{c(){t=element("button"),r=element("div"),o=space(),l&&l.c(),a=empty(),this.c=noop,attr(r,"class","chevron animated"),toggle_class(r,"open",e[2]),toggle_class(r,"not-visible",e[4]),attr(t,"class","icon btn animated hover-fx"),t.disabled=e[4],toggle_class(t,"dimmed",e[4]),toggle_class(t,"selected",e[1])},m(c,d){insert(c,t,d),append(t,r),e[6](t),insert(c,o,d),l&&l.m(c,d),insert(c,a,d),i=!0,n||(s=listen(t,"click",e[7]),n=!0)},p(e,[o]){(!i||4&o)&&toggle_class(r,"open",e[2]),(!i||16&o)&&toggle_class(r,"not-visible",e[4]),(!i||16&o)&&(t.disabled=e[4]),(!i||16&o)&&toggle_class(t,"dimmed",e[4]),(!i||2&o)&&toggle_class(t,"selected",e[1]),e[2]&&e[0]?.length>0?l?(l.p(e,o),5&o&&transition_in(l,1)):(l=create_if_block(e),l.c(),transition_in(l,1),l.m(a.parentNode,a)):l&&(group_outros(),transition_out(l,1,1,(()=>{l=null})),check_outros())},i(e){i||(transition_in(l),i=!0)},o(e){transition_out(l),i=!1},d(r){r&&detach(t),e[6](null),r&&detach(o),l&&l.d(r),r&&detach(a),n=!1,s()}}}function instance(e,t,r){let o,a,i,n,{items:s}=t,{selected:l}=t,c=!1;function d(e){r(2,c=!1),function(e){const t=new window.CustomEvent("change",{detail:l===e?void 0:e,bubbles:!1});n.dispatchEvent(t)}(e)}onMount((()=>{n=a.parentNode.host,n.addEventListener("mouseleave",(()=>{clearTimeout(i),i=setTimeout((()=>{r(2,c=!1)}),200)})),n.addEventListener("mouseenter",(()=>clearTimeout(i)))})),onDestroy((()=>clearTimeout(i)));return e.$$set=e=>{"items"in e&&r(0,s=e.items),"selected"in e&&r(1,l=e.selected)},e.$$.update=()=>{1&e.$$.dirty&&r(4,o=!s?.length)},[s,l,c,a,o,d,function(e){binding_callbacks[e?"unshift":"push"]((()=>{a=e,r(3,a)}))},()=>{r(2,c=!c)},e=>d(e)]}class Folder_browser extends SvelteElement{constructor(e){super();const t=document.createElement("style");t.textContent=".btn{font-family:inherit;font-size:inherit;font-weight:bold;text-decoration:none;cursor:pointer;display:inline-block;line-height:1.125rem;padding:.5rem 1rem;margin:0;height:auto;border:1px solid transparent;vertical-align:middle;-webkit-appearance:none;color:inherit;background-color:transparent}.btn:hover{text-decoration:none}.btn:focus{outline:none;border-color:rgba(0, 0, 0, .125);box-shadow:0 0 0 3px rgba(0, 0, 0, .25)}::-moz-focus-inner{border:0;padding:0}button.btn{padding:0;margin:0}.not-visible{visibility:hidden;opacity:0}.dimmed{opacity:0.5}:host{--anim-duration:0.25s}:where(.animated){transition-duration:var(--anim-duration);transition-timing-function:ease-in-out;transition-property:color, background-color, opacity, visibility, height, width, transform, \n    transform-origin, filter, left, top, right, no-prop}@media(hover: hover){.hover-fx:not([disabled]):hover{opacity:0.75}}.z0{z-index:0}:host{box-sizing:border-box;display:flex;align-items:center;position:relative;position:var(--folder-browser-full-width, relative)}.icon,.chevron{background-size:auto 100%;background-repeat:no-repeat}.icon{width:1.57em;height:1.35em;background:no-repeat url(https://janouma.github.io/heimdall-layouts/shared_components/folder_browser/assets/images/folder.svg) center/contain;position:relative\n  }.icon.selected{filter:brightness(0.5) sepia(1) hue-rotate(150deg) saturate(6)}[disabled]{cursor:not-allowed}.chevron{--height:0.49em;--translate:-51%;width:0.77em;height:var(--height);background-image:url(https://janouma.github.io/heimdall-layouts/shared_components/folder_browser/assets/images/chevron.svg);position:absolute;left:50%;bottom:calc(-1 * (var(--height) + 0.24em));transform:translateX(var(--translate))\n  }.chevron.open{transform:translateX(var(--translate)) rotateZ(180deg)}.menu{--r-base:6;--g-base:3;--b-base:33;--r-modifier:+ 45;--g-modifier:+ 47;--b-modifier:+ 44;--r:calc(var(--r-base) var(--folder-browser-no-backdrop-filter, var(--r-modifier)));--g:calc(var(--g-base) var(--folder-browser-no-backdrop-filter, var(--g-modifier)));--b:calc(var(--b-base) var(--folder-browser-no-backdrop-filter, var(--b-modifier)));--alpha-modifier:- 20%;--alpha:calc(80% var(--folder-browser-no-backdrop-filter, var(--alpha-modifier)));--bg-color:rgba(var(--r), var(--g), var(--b), var(--alpha));--y:calc(100% + var(--folder-browser-y-offset, 0em));--inline-padding:0.82em;--block-padding:0.64em;--default-max-height:calc(100dvh - var(--y));--text-size-modifier:- 1.109em;--text-size:calc(2.4em var(--folder-browser-large-text, var(--text-size-modifier)));--row-gap:calc(0.62 * var(--text-size));--row-height:var(--text-size);--row-heights-sum:calc(var(--folder-browser-max-visible-rows) * var(--row-height));--row-gaps-sum:calc((var(--folder-browser-max-visible-rows) - 1) * var(--row-gap));--max-height:calc(var(--row-heights-sum) + var(--row-gaps-sum) + calc(2 * var(--block-padding)));--box-shadow-modifier:- 1px;--box-shadow-length:calc(1px var(--folder-browser-no-backdrop-filter, var(--box-shadow-modifier)));display:grid;grid-template-columns:repeat(1, 1fr);grid-template-columns:repeat(var(--folder-browser-max-columns, 1), 1fr);grid-column-gap:3.75em;-moz-column-gap:3.75em;column-gap:3.75em;grid-row-gap:var(--row-gap);row-gap:var(--row-gap);box-sizing:border-box;position:absolute;top:var(--y);left:0;background-color:var(--bg-color);margin:0;padding:var(--block-padding) var(--inline-padding);list-style:none;text-transform:capitalize;font-weight:bold;width:100%;min-width:-moz-fit-content;min-width:fit-content;max-height:min(var(--default-max-height), var(--default-max-height));max-height:min(var(--max-height, var(--default-max-height)), var(--default-max-height));overflow:auto;-webkit-backdrop-filter:blur(0.4em);-webkit-backdrop-filter:var(--folder-browser-no-backdrop-filter, blur(0.4em));backdrop-filter:blur(0.4em);backdrop-filter:var(--folder-browser-no-backdrop-filter, blur(0.4em));box-shadow:0 0 var(--box-shadow-length) 0 rgb(88,146,246);box-shadow:0 0 var(--box-shadow-length) 0 rgb(var(--sky));overscroll-behavior-x:none\n  }@supports not ((-webkit-backdrop-filter: blur(0.4em)) or (backdrop-filter: blur(0.4em))){.menu{--bg-color:rgba(var(--deepspace), 80%)\n  }}@supports (not (-webkit-hyphens:none)) and (not (-moz-appearance:none)) and (list-style-type:\"*\"){.menu{--bg-color:rgba(var(--deepspace), 80%)\n  }}li{--expanse:0.25em;--highlighted-bg-color:rgba(var(--sky), 75%);font-size:var(--text-size);line-height:1;white-space:nowrap;cursor:pointer;position:relative\n  }li::before{--margin:calc(-1 * var(--expanse));content:'';position:absolute;top:0;left:0;width:100%;height:100%;margin-top:var(--margin);margin-left:var(--margin);padding:var(--expanse);border-radius:0.16em;z-index:-1}li.selected::before{background-color:var(--highlighted-bg-color)}@media(hover: hover){li:hover::before{background-color:var(--highlighted-bg-color)}}",this.shadowRoot.appendChild(t),init(this,{target:this.shadowRoot,props:attribute_to_object(this.attributes),customElement:!0},instance,create_fragment,not_equal,{items:0,selected:1},null),e&&(e.target&&insert(e.target,this,e.anchor),e.props&&(this.$set(e.props),flush()))}static get observedAttributes(){return["items","selected"]}get items(){return this.$$.ctx[0]}set items(e){this.$$set({items:e}),flush()}get selected(){return this.$$.ctx[1]}set selected(e){this.$$set({selected:e}),flush()}}customElements.define("folder-browser",Folder_browser);export default Folder_browser;